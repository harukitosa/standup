<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Standup</title>
  </head>
  <body>
    <h1>Standup</h1>
    <span id="view_clock"></span><br />
    <span id="start"></span>s
  </body>
  <script
    type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/push.js/1.0.7/push.min.js"
  ></script>
</html>
<script type="text/javascript">
  Push.create(
    "30分区切りで筋トレをうながしてくれるよ！！画面は開けたままにしよう"
  );
  timerID = setInterval("clock()", 500); //0.5秒毎にclock()を実行

  function clock() {
    document.getElementById("view_clock").innerHTML = getNow();
    document.getElementById("start").innerHTML = start1();
  }
  var d = new Date();
  var start = d.getSeconds();
  function getRandomInt(max) {
    return Math.floor(Math.random() * Math.floor(max));
  }
  function start1() {
    var now = new Date();
    return Math.abs(start - now.getSeconds());
  }
  function getNow() {
    var now = new Date();
    var year = now.getFullYear();
    var mon = now.getMonth() + 1; //１を足すこと
    var day = now.getDate();
    var hour = now.getHours();
    var min = now.getMinutes();
    var sec = now.getSeconds();
    if (Math.abs(sec - start) >= 30) {
      const n = getRandomInt(3);
      if (n == 0) {
        Push.create("腕立て伏せ10回");
      } else if (n == 1) {
        Push.create("スクワット10回");
      } else {
        Push.create("体幹1分");
      }
      start = sec;
    }
    //出力用
    var s =
      year +
      "年" +
      mon +
      "月" +
      day +
      "日" +
      hour +
      "時" +
      min +
      "分" +
      sec +
      "秒";
    return s;
  }
</script>
